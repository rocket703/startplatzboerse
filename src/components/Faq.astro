---
// src/components/Faq.astro

// Hier sind deine optimierten Fragen & Antworten
const questions = [
  {
    q: "Was ist Startplatzboerse.com?",
    a: "Wir sind eine Community-Plattform von Sportlern für Sportler. Hier kannst du Startplätze für Laufen, Radrennen, Triathlon und HYROX ganz einfach verkaufen oder übernehmen – schnell, sicher und komplett gebührenfrei."
  },
  {
    q: "Kostet die Nutzung wirklich nichts?",
    a: "Genau. Die Nutzung ist zu <strong>100% kostenlos</strong>. Wir verlangen keine Einstellgebühren und keine Provisionen. Es ist ein privates Projekt, um den Sport zu unterstützen."
  },
  {
    q: "Wie kann ich einen Startplatz verkaufen?",
    a: "Ganz einfach in 3 Schritten:<br>1. Fülle das Formular 'Startplatz verkaufen' aus.<br>2. Dein Angebot erscheint nach kurzer Prüfung online.<br>3. Interessenten melden sich direkt bei dir.<br><br>Du entscheidest selbst, an wen du verkaufst."
  },
  {
    q: "Wie kaufe ich einen Startplatz?",
    a: "Wähle dein Event aus der Liste und klicke auf den Kontakt-Button. Du füllst ein kurzes Formular mit deinem Namen und deiner E-Mail aus. Diese Daten werden direkt an den Verkäufer gesendet, damit ihr alles Weitere klären könnt."
  },
  {
    q: "Ist der Kauf sicher?",
    a: "Da der Verkauf direkt von Privat an Privat läuft, empfehlen wir sichere Bezahlmethoden wie <strong>PayPal (Waren & Dienstleistungen)</strong>. Klärt vorher, ob eine Umschreibung beim Veranstalter möglich ist. Bei unsicheren Gefühlen kannst du uns jederzeit kontaktieren."
  },
  {
    q: "Fallen Ummeldegebühren an?",
    a: "Das hängt allein vom Veranstalter des Events ab. Manche verlangen eine kleine Gebühr für die Namensänderung, manche machen es kostenlos. Bitte prüft das kurz auf der Webseite des Veranstalters, bevor ihr den Deal macht."
  },
  {
    q: "Welche Events finde ich hier?",
    a: "Aktuell fokussieren wir uns auf:<br>• Lauf-Events (5km bis Marathon)<br>• Radrennen<br>• Triathlon (Sprint bis Langdistanz)<br>• HYROX-Events"
  },
  {
    q: "Ich habe noch eine Frage.",
    a: "Kein Problem! Schreib uns einfach eine E-Mail oder nutze das Kontaktformular im Footer. Da dies ein Ein-Mann-Projekt ist, antworte ich so schnell ich kann – meistens abends."
  }
];
---

<section id="faq" class="section-wrapper">
    <div class="container">
        
        <div class="header-center">
            <span class="badge">Wissen</span>
            <h2>Häufige Fragen</h2>
            <p class="subtitle">Alles, was du über den Ablauf wissen musst.</p>
        </div>

        <div class="faq-list">
            {questions.map((item) => (
                <div class="faq-item">
                    <button class="faq-question">
                        {item.q}
                        <span class="icon">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg>
                        </span>
                    </button>
                    <div class="faq-answer">
                        <div class="answer-content">
                            <p set:html={item.a} />
                        </div>
                    </div>
                </div>
            ))}
        </div>

    </div>
</section>

<script>
    // Die Logik für das Auf- und Zuklappen
    const questions = document.querySelectorAll('.faq-question');
    
    questions.forEach(q => {
        q.addEventListener('click', () => {
            const item = q.parentElement;
            
            // Optional: Alle anderen schließen, wenn man eins öffnet
            // document.querySelectorAll('.faq-item').forEach(i => {
            //     if(i !== item) i.classList.remove('active');
            // });

            item.classList.toggle('active');
        });
    });
</script>

<style>
    .section-wrapper { 
        padding: 100px 20px; 
        background: #1a1a1a; /* Etwas dunkler als der Body für Kontrast */
        position: relative;
    }

    .container { max-width: 800px; margin: 0 auto; }

    /* Header */
    .header-center { text-align: center; margin-bottom: 50px; }
    
    .badge { 
        color: var(--cyan); font-weight: 700; text-transform: uppercase; 
        letter-spacing: 1px; font-size: 0.8rem; display: block; margin-bottom: 10px; 
    }
    h2 { font-size: 2.5rem; color: white; margin-bottom: 10px; }
    .subtitle { color: var(--text-muted); font-size: 1.1rem; }

    /* Liste */
    .faq-list { display: flex; flex-direction: column; gap: 15px; }

    .faq-item {
        background: var(--bg-card); /* Dein Karten-Hintergrund */
        border-radius: 16px;
        border: 1px solid rgba(255,255,255,0.05);
        overflow: hidden;
        transition: 0.3s ease;
    }
    
    /* Hover Effekt */
    .faq-item:hover { border-color: rgba(255,255,255,0.15); }
    /* Wenn Aktiv (offen): Cyan Rand */
    .faq-item.active { border-color: rgba(0, 188, 212, 0.3); }

    /* Frage Button */
    .faq-question {
        width: 100%;
        text-align: left;
        padding: 20px 25px;
        background: none; border: none;
        color: white; 
        font-weight: 600; font-size: 1.05rem;
        cursor: pointer;
        display: flex; justify-content: space-between; align-items: center;
    }

    /* Icon Animation */
    .icon { 
        color: var(--cyan); 
        transition: transform 0.3s ease; 
        display: flex; align-items: center;
    }
    .faq-item.active .icon { transform: rotate(45deg); } /* Plus wird zum X */

    /* Antwort Bereich */
    .faq-answer {
        max-height: 0;
        overflow: hidden;
        transition: max-height 0.3s cubic-bezier(0, 1, 0, 1);
    }
    
    .answer-content {
        padding: 0 25px 25px 25px;
        color: var(--text-muted);
        line-height: 1.6;
        font-size: 0.95rem;
    }

    .answer-content :global(strong) { color: white; }

    /* Wenn Aktiv: Aufklappen */
    .faq-item.active .faq-answer {
        max-height: 500px; /* Groß genug für jeden Text */
        transition: max-height 0.3s ease-in-out;
    }
</style>